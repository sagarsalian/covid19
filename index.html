

<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <title>COVID19 Dashboard India</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="./css/thirdparty/bootstrap.min.css" >
        <link rel="stylesheet" href="./css/custom.css" >
        <link rel="stylesheet" href="./css/customTabular.css" >
        <style>
            .mainbody {
                background: whitesmoke !important; 
            }
            
            #d3chart1 {
                text-align: center;
                margin-top: 10px;
            }

            .textAlignCenter {
                text-align: center;
            }
            .mainHdrPadding {
                padding: 5px;
            }
            .chartPadding {
                padding: 10px;
            }
            .redColor {
                color:red
            }
            
            .selectionColor {
                color : brown;
            }
            
           
        </style>
        <script>

        </script>
    </head>
    <body class="mainbody">
        <div class="row">
            <div class="col-12" style="background-color: #33ccff;">
                <h1 class="textAlignCenter mainHdrPadding">COVID-19 India</h1>
            </div> 
        </div>
        

        <section id="tabs">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 ">
                        <nav>
                            <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Graphs</a>
                                <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Tabular</a>
                            </div>
                        </nav>
                        <div class="tab-content py-3 px-3 px-sm-0" id="nav-tabContent">
                            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-5"></div> 
                                        <select id="stateFilterSelId" onchange="mainFilter(this);" class="col-3 selectionColor" style="height:50px;text-align: center;">
                                            <option value="Top10" selected>Top 10 States</option>
                                            <option value="All">All States</option>
                                        </select>
                                          
                                    </div>
                                </div>   
                                <div class="chartPadding"></div>
                                <h3 style="text-align: center;"><u>State-Wise Total <span class="redColor">Confirmed and Death Cases</span> </u></h3>
                                <p style="text-align: center;"><span id="stateTotalSpanId"> </span></p>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            <canvas id="stateTotalChart" width="1000" height="600" ></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="chartPadding"></div>                                             
                                                                     
                                <h3 style="text-align: center;"><u>State-Wise Daily <span class="redColor">Confirmed Cases</span> </u></h3>
                                <p style="text-align: center;"><span id="stateDailyConfirmSpanId"> </span></p>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            <canvas id="stateConfirmedLineChart" width="1000" height="600"></canvas>
                                        </div>                              
                                    </div>
                                </div>
                                    
                            </div>
                            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                                <h3 style="text-align: center;"><u>State-Wise <span class="redColor">Confirmed Cases</span> </u></h3>
                                <p style="text-align: center;"><span id="tab2SpanId1"> </span></p>         
                                <div class="container">
                                    <div class="row">
                                        <div>
                                        <div id="table" class="col-9"></div>                        
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>


        <script src="./scripts/thirdparty/chart.min.js"></script>
        <script src="./scripts/thirdparty/jquery-3.4.1.slim.min.js"></script>
        <script src="./scripts/thirdparty/popper.min.js"></script>
        <script src="./scripts/thirdparty/bootstrap.min.js" ></script>
        <script src="./scripts/thirdparty/d3/d3.v4.js" ></script>
        <script src="./scripts/thirdparty/d3/d3-scale-chromatic.v1.min.js" ></script>
        <script src="./scripts/thirdparty/underscore-min.js" ></script>
        <script src="./scripts/thirdparty/d3/table.js" ></script>
        <script src="./scripts/utility.js" ></script>
        <script src="./scripts/chartjsWrapper.js" ></script>
        <script src="./scripts/chartjsScatteredPlot.js" ></script>
        <script src="./scripts/chartjsLineChartStatewise.js" ></script>
        <script src="./scripts/tabularWrapper.js" ></script>

        <script>
            var d = document, root = d.documentElement, body = d.body;
            var wid = window.innerWidth || root.clientWidth || body.clientWidth,
                hi = window.innerHeight || root.clientHeight || body.clientHeight;
            var addlnwid = 0;    
            $("#stateTotalChart,#stateConfirmedLineChart,#table").width(wid + addlnwid); //.height(200);
 
            var stateFilterSelIdValue = document.getElementById("stateFilterSelId").value;
            if (stateFilterSelIdValue === "Top10") {
                chartJsPlotTopN(0 ,10 ,'stateConfirmedLineChart', 'stateTotalChart');
            } else {
                chartJsPlotTopN(-1 ,-1 ,'stateConfirmedLineChart', 'stateTotalChart');
            } 
            
            function mainFilter(arg){
                var val = arg.value;
                if (val === "Top10") {
                    chartJsPlotTopN(0 ,10 ,'stateConfirmedLineChart', 'stateTotalChart');
                } else {
                    chartJsPlotTopN(-1 ,-1 ,'stateConfirmedLineChart', 'stateTotalChart');
                }
            }
            
            tabularPlot2("table");
        </script>  

    </body>
</html>
